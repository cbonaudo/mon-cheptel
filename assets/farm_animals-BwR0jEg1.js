import{w as V}from"./with-props-Bhbv-dGD.js";import{r as n,l as e,N as R}from"./chunk-K6CSEXPM-DFkRJqJi.js";import{u as I,E as r,G as a,C as h,V as b,R as L,L as U}from"./farm-BuSu_HVi.js";import{l as Q}from"./left-CthyCbCe.js";import{d as D}from"./down-CqbWsQ8v.js";const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABpklEQVRIS+1VPUvDYBC+q6VD0sFBTcYkoz/BTRARXFS0IKiTq5OKgw4dOojo5uIo+EnBRVCKYCd/Qtcmbn3r4tBERPS8VotJffNRsCBoloR77+553uc+gtDjB3ucH/4AABGlnx7uT/g955eTCM6yujnvt7m16paqWwW/LVKihrCv2WEiuk5UVDUr5wlnnYB2VM0M5AwFcGt2gyukNpNL2QqnyCezrXOAR07U3/xOBOAK+459R2QBQZko49WdZ78tFoAqlYw3oLSClCEjhYhMUP54orpLgKtdATD7EgeMI+Ceohlrocnr9jZLt9F5HnsDBmgx7nQMdEu9WgDCTRn4jwB0M/3fuijJDX49wAUznGaN91XdWEnCtlGzzxEhh0DHimYtRE4ylctpb9h4iSt0OwmvkBTPwmuYv3SSmdEtMxr9mIXDPsT8m+wmfjLc1szeCLBvxiRbFUBHWc1a/GKdT3li6QAQlz9tgttTl5GIXHaucG5404xF1YGH7Yq36mSYT+wPp8KrwxxUT1nrmUASoktFM6d4lUjla/vGAiTpoiiff4BYBd8B1GamGSe/6W4AAAAASUVORK5CYII=",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAmElEQVRIS2NkoDFgpLH5DKMWEAzhwRFE+/fvLwc6lcPR0bGRoJPRFBD0wY4dOyTZ2dmfQfU1kGoJQQtABu/Zs8eWmZn5EDmWEGUByOC9e/daMTExHSXVEqItINcSkiwAWbJ7924LFhaW48T6ZHBZQE48EO0DcgwHBSNRFtA0mdIlo9G0qCC17EFXT1QcUGLJqAUEQ4/mQQQAcsQ6GRcU1nQAAAAASUVORK5CYII=",y=()=>{const{list:f}=I(),[G,S]=n.useState(f);n.useEffect(()=>{S(f)},[f]);const[N,k]=n.useState(null),[c,E]=n.useState(null),[p,C]=n.useState(null),[t,d]=n.useState(null),[o,g]=n.useState(null),[u,A]=n.useState(null),[j,F]=n.useState(null),[m,B]=n.useState(r["A définir"]),[v,w]=n.useState(null),[x,M]=n.useState(r["A définir"]);n.useEffect(()=>{let s=[...f];if(N&&(s=s.filter(l=>l.boucle.includes(N))),c!=null&&(s=s.filter(l=>l.gender==c),c==a.Femelle&&t==h.Taurillon?d(h.Génisse):c==a.Femelle&&t==h.Taureau?d(h.Vache):c==a.Mâle&&t==h.Génisse?d(h.Taurillon):c==a.Mâle&&t==h.Vache&&d(h.Taureau)),p!=null&&(s=s.filter(l=>l.bornIn==p)),t!=null&&(s=s.filter(l=>l.category==t)),o!=null&&(s=s.filter(l=>l.hasOwnProperty("lot")&&l.lot==o)),u!=null&&(s=s.filter(l=>l.healthState==u)),j!=null&&(s=s.filter(l=>b[l.vaccine]==b[+!j])),m>r["A définir"]){let l=new Date;m==r["3 mois"]?s=s.filter(i=>new Date(Number(i.vaccineEcheance.substring(6,10)),Number(i.vaccineEcheance.substring(3,5))-1,Number(i.vaccineEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+3))):m==r["6 mois"]?s=s.filter(i=>new Date(Number(i.vaccineEcheance.substring(6,10)),Number(i.vaccineEcheance.substring(3,5))-1,Number(i.vaccineEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+6))):m==r["1 an"]&&(s=s.filter(i=>new Date(Number(i.vaccineEcheance.substring(6,10)),Number(i.vaccineEcheance.substring(3,5))-1,Number(i.vaccineEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+12))))}if(v!=null&&(s=s.filter(l=>b[l.parage]==b[+!v])),x>r["A définir"]){let l=new Date;x==r["3 mois"]?s=s.filter(i=>new Date(Number(i.parageEcheance.substring(6,10)),Number(i.parageEcheance.substring(3,5))-1,Number(i.parageEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+3))):x==r["6 mois"]?s=s.filter(i=>new Date(Number(i.parageEcheance.substring(6,10)),Number(i.parageEcheance.substring(3,5))-1,Number(i.parageEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+6))):x==r["1 an"]&&(s=s.filter(i=>new Date(Number(i.parageEcheance.substring(6,10)),Number(i.parageEcheance.substring(3,5))-1,Number(i.parageEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+12))))}S(s)},[N,c,p,t,o,u,j,m,v,x]);const T=()=>{k(null),E(null),C(null),d(null),g(null),A(null),F(null),B(r["A définir"]),w(null),M(r["A définir"])};return e.jsxs("div",{className:"flex flex-col gap-4 text-black",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_8fr_9fr_4fr] gap-4",children:[e.jsx("div",{className:"border-3 rounded-full h-10 p-2 flex justify-center items-center w-10",children:e.jsx(R,{to:"/",end:!0,children:e.jsx("img",{src:Q})})}),e.jsxs("div",{className:"filter-container",children:[e.jsx("div",{className:"filter-header",children:"Identité"}),e.jsxs("div",{className:"flex flex-col p-2 text-sm gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:["Numéro :",e.jsx("input",{className:"input",placeholder:"Ex: 2884",value:N||"",onChange:s=>k(s.target.value)})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:["Sexe :",e.jsx("div",{className:c==1?"chip-selected":"chip-unselected",onClick:()=>E(1),children:"Femelle"}),e.jsx("div",{className:c==0?"chip-selected":"chip-unselected",onClick:()=>E(0),children:"Mâle"})]})]}),e.jsxs("div",{className:"flex gap-1",children:["Né dans l'élevage :",e.jsx("div",{className:p==!0?"chip-selected":"chip-unselected",onClick:()=>C(!0),children:"Oui"}),e.jsx("div",{className:p==!1?"chip-selected":"chip-unselected",onClick:()=>C(!1),children:"Non"})]}),e.jsxs("div",{className:"flex gap-1",children:["Catégorie:",e.jsx("div",{onClick:()=>d(0),className:t==0?"chip-selected":"chip-unselected",children:"Veau"}),e.jsx("div",{onClick:()=>{c!=a.Mâle&&d(1)},className:t==1?"chip-selected":c!=a.Mâle?"chip-unselected":"chip-disabled",children:"Génisse"}),e.jsx("div",{onClick:()=>{c!=a.Mâle&&d(2)},className:t==2?"chip-selected":c!=a.Mâle?"chip-unselected":"chip-disabled",children:"Vache"}),e.jsx("div",{onClick:()=>{c!=a.Femelle&&d(3)},className:t==3?"chip-selected":c!=a.Femelle?"chip-unselected":"chip-disabled",children:"Taureau"}),e.jsx("div",{onClick:()=>{c!=a.Femelle&&d(4)},className:t==4?"chip-selected":c!=a.Femelle?"chip-unselected":"chip-disabled",children:"Taurillon"})]}),e.jsxs("div",{className:"flex gap-1",children:["Lot :",e.jsx("div",{className:o==0?"chip-selected":"chip-unselected",onClick:()=>g(0),children:"Lactation"}),e.jsx("div",{className:o==1?"chip-selected":"chip-unselected",onClick:()=>g(1),children:"Prépa Vêlage"}),e.jsx("div",{className:o==2?"chip-selected":"chip-unselected",onClick:()=>g(2),children:"Vêlée"}),e.jsx("div",{className:o==3?"chip-selected":"chip-unselected",onClick:()=>g(3),children:"Tarie"})]})]}),e.jsxs("div",{className:"button-secondary",children:["Afficher plus ",e.jsx("img",{src:D})]})]}),e.jsxs("div",{className:"filter-container",children:[e.jsx("div",{className:"filter-header",children:"Statut sanitaire"}),e.jsxs("div",{className:"flex flex-col p-2 text-sm gap-2",children:[e.jsxs("div",{className:"flex gap-2 col-span-2",children:["Etat de santé :",e.jsx("div",{className:u==0?"chip-selected":"chip-unselected",onClick:()=>A(0),children:"Sain"}),e.jsx("div",{className:u==1?"chip-selected":"chip-unselected",onClick:()=>A(1),children:"Boiterie"}),e.jsx("div",{className:u==2?"chip-selected":"chip-unselected",onClick:()=>A(2),children:"Ecarté"}),e.jsx("div",{className:"chip-unselected",children:"+"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:["Vaccin :",e.jsx("div",{className:j==!0?"chip-selected":"chip-unselected",onClick:()=>F(!0),children:"A jour"}),e.jsx("div",{className:j==!1?"chip-selected":"chip-unselected",onClick:()=>F(!1),children:"A faire"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:["Echéance :",e.jsxs("select",{className:"input",value:m,onChange:s=>B(s.target.value),children:[e.jsx("option",{value:"0",children:"A définir"}),e.jsx("option",{value:"1",children:"3 mois"}),e.jsx("option",{value:"2",children:"6 mois"}),e.jsx("option",{value:"3",children:"1 an"})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:["Parage :",e.jsx("div",{className:v==!0?"chip-selected":"chip-unselected",onClick:()=>w(!0),children:"A jour"}),e.jsx("div",{className:v==!1?"chip-selected":"chip-unselected",onClick:()=>w(!1),children:"A faire"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:["Echéance :",e.jsxs("select",{className:"input",value:x,onChange:s=>M(s.target.value),children:[e.jsx("option",{value:"0",children:"A définir"}),e.jsx("option",{value:"1",children:"3 mois"}),e.jsx("option",{value:"2",children:"6 mois"}),e.jsx("option",{value:"3",children:"1 an"})]})]})]})]}),e.jsxs("div",{className:"button-secondary",children:["Afficher plus ",e.jsx("img",{src:D})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 self-start font-bold text-xs",children:[e.jsx("div",{className:"button-secondary-light",children:"Appliquer"}),e.jsx("div",{className:"refresh-button",onClick:T,children:e.jsx("img",{src:P})}),e.jsxs("div",{className:"col-span-2 toggle-light",children:["Recherche avancée ",e.jsx("img",{src:D})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8",children:G.map(s=>e.jsx(R,{to:"/farm/animal/1",end:!0,children:e.jsxs("div",{className:"animal-sheet",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:["N° de boucle : ",e.jsx("span",{className:"font-normal",children:s.boucle})]}),e.jsxs("div",{className:"grid grid-cols-[2fr_3fr] gap-2",children:[e.jsxs("div",{children:["Sexe : ",e.jsx("span",{className:"font-normal",children:a[s.gender]})]}),e.jsxs("div",{children:["Age : ",e.jsxs("span",{className:"font-normal",children:[s.age," mois"]})]}),e.jsxs("div",{children:["Père : ",e.jsx("span",{className:"font-normal",children:s.fatherPentagNumber})]}),e.jsxs("div",{children:["Mère : ",e.jsx("span",{className:"font-normal",children:s.motherPentagNumber})]}),e.jsxs("div",{children:["Race : ",e.jsx("span",{className:"font-normal",children:L[s.race]})]}),s.hasOwnProperty("lot")&&e.jsxs("div",{children:["Lot : ",e.jsx("span",{className:"font-normal",children:U[s.lot]})]})]}),e.jsxs("div",{className:"self-end text-gray flex",children:["Afficher plus ",e.jsx("img",{src:Y})]})]})]})},s.id))})]})};function z({}){return[{title:"Mes animaux"},{name:"description",content:"Page pour afficher la liste des animaux"}]}const X=V(function(){return e.jsx(y,{})});export{X as default,z as meta};
