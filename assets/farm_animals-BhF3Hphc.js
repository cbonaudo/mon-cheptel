import{w as V}from"./with-props-Bhbv-dGD.js";import{r as t,l as e,N as R}from"./chunk-K6CSEXPM-DFkRJqJi.js";import{u as I,E as d,G as r,b as m,V as w,R as L,L as U}from"./farm-Cf50ijYM.js";import{l as Q}from"./left-CthyCbCe.js";import{d as D}from"./down-CqbWsQ8v.js";const P="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAABpklEQVRIS+1VPUvDYBC+q6VD0sFBTcYkoz/BTRARXFS0IKiTq5OKgw4dOojo5uIo+EnBRVCKYCd/Qtcmbn3r4tBERPS8VotJffNRsCBoloR77+553uc+gtDjB3ucH/4AABGlnx7uT/g955eTCM6yujnvt7m16paqWwW/LVKihrCv2WEiuk5UVDUr5wlnnYB2VM0M5AwFcGt2gyukNpNL2QqnyCezrXOAR07U3/xOBOAK+459R2QBQZko49WdZ78tFoAqlYw3oLSClCEjhYhMUP54orpLgKtdATD7EgeMI+Ceohlrocnr9jZLt9F5HnsDBmgx7nQMdEu9WgDCTRn4jwB0M/3fuijJDX49wAUznGaN91XdWEnCtlGzzxEhh0DHimYtRE4ylctpb9h4iSt0OwmvkBTPwmuYv3SSmdEtMxr9mIXDPsT8m+wmfjLc1szeCLBvxiRbFUBHWc1a/GKdT3li6QAQlz9tgttTl5GIXHaucG5404xF1YGH7Yq36mSYT+wPp8KrwxxUT1nrmUASoktFM6d4lUjla/vGAiTpoiiff4BYBd8B1GamGSe/6W4AAAAASUVORK5CYII=",Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAmElEQVRIS2NkoDFgpLH5DKMWEAzhwRFE+/fvLwc6lcPR0bGRoJPRFBD0wY4dOyTZ2dmfQfU1kGoJQQtABu/Zs8eWmZn5EDmWEGUByOC9e/daMTExHSXVEqItINcSkiwAWbJ7924LFhaW48T6ZHBZQE48EO0DcgwHBSNRFtA0mdIlo9G0qCC17EFXT1QcUGLJqAUEQ4/mQQQAcsQ6GRcU1nQAAAAASUVORK5CYII=",y=()=>{const{list:N}=I(),[G,S]=t.useState(N);t.useEffect(()=>{S(N)},[N]);const[F,k]=t.useState(null),[c,A]=t.useState(null),[x,b]=t.useState(null),[n,a]=t.useState(null),[u,h]=t.useState(null),[o,f]=t.useState(null),[p,E]=t.useState(null),[j,B]=t.useState(d["A définir"]),[g,C]=t.useState(null),[v,M]=t.useState(d["A définir"]);t.useEffect(()=>{let s=[...N];if(F&&(s=s.filter(l=>l.boucle.includes(F))),c!=null&&(s=s.filter(l=>l.gender==c),c==r.Femelle&&n==m.Taurillon?a(m.Génisse):c==r.Femelle&&n==m.Taureau?a(m.Vache):c==r.Mâle&&n==m.Génisse?a(m.Taurillon):c==r.Mâle&&n==m.Vache&&a(m.Taureau)),x!=null&&(s=s.filter(l=>l.bornIn==x)),n!=null&&(s=s.filter(l=>l.category==n)),u!=null&&(s=s.filter(l=>l.hasOwnProperty("lot")&&l.lot==u)),o!=null&&(s=s.filter(l=>l.healthState==o)),p!=null&&(s=s.filter(l=>w[l.vaccine]==w[+!p])),j>d["A définir"]){let l=new Date;j==d["3 mois"]?s=s.filter(i=>new Date(Number(i.vaccineEcheance.substring(6,10)),Number(i.vaccineEcheance.substring(3,5))-1,Number(i.vaccineEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+3))):j==d["6 mois"]?s=s.filter(i=>new Date(Number(i.vaccineEcheance.substring(6,10)),Number(i.vaccineEcheance.substring(3,5))-1,Number(i.vaccineEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+6))):j==d["1 an"]&&(s=s.filter(i=>new Date(Number(i.vaccineEcheance.substring(6,10)),Number(i.vaccineEcheance.substring(3,5))-1,Number(i.vaccineEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+12))))}if(g!=null&&(s=s.filter(l=>w[l.parage]==w[+!g])),v>d["A définir"]){let l=new Date;v==d["3 mois"]?s=s.filter(i=>new Date(Number(i.parageEcheance.substring(6,10)),Number(i.parageEcheance.substring(3,5))-1,Number(i.parageEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+3))):v==d["6 mois"]?s=s.filter(i=>new Date(Number(i.parageEcheance.substring(6,10)),Number(i.parageEcheance.substring(3,5))-1,Number(i.parageEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+6))):v==d["1 an"]&&(s=s.filter(i=>new Date(Number(i.parageEcheance.substring(6,10)),Number(i.parageEcheance.substring(3,5))-1,Number(i.parageEcheance.substring(0,2)))<new Date(new Date(l).setMonth(l.getMonth()+12))))}S(s)},[F,c,x,n,u,o,p,j,g,v]);const T=()=>{k(null),A(null),b(null),a(null),h(null),f(null),E(null),B(d["A définir"]),C(null),M(d["A définir"])};return e.jsxs("div",{className:"flex flex-col gap-4 text-black",children:[e.jsxs("div",{className:"grid grid-cols-[1fr_8fr_9fr_4fr] gap-4",children:[e.jsx("div",{className:"border-3 rounded-full h-10 p-2 flex justify-center items-center w-10",children:e.jsx(R,{to:"/",end:!0,children:e.jsx("img",{src:Q})})}),e.jsxs("div",{className:"filter-container",children:[e.jsx("div",{className:"filter-header",children:"Identité"}),e.jsxs("div",{className:"flex flex-col p-2 text-sm gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:["Numéro :",e.jsx("input",{className:"input",placeholder:"Ex: 2884",value:F||"",onChange:s=>k(s.target.value)})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:["Sexe :",e.jsx("div",{className:c==1?"chip-selected":"chip-unselected",onClick:()=>c==1?A(null):A(1),children:"Femelle"}),e.jsx("div",{className:c==0?"chip-selected":"chip-unselected",onClick:()=>c==0?A(null):A(0),children:"Mâle"})]})]}),e.jsxs("div",{className:"flex gap-1",children:["Né dans l'élevage :",e.jsx("div",{className:x==!0?"chip-selected":"chip-unselected",onClick:()=>x==!0?b(null):b(!0),children:"Oui"}),e.jsx("div",{className:x==!1?"chip-selected":"chip-unselected",onClick:()=>x==!1?b(null):b(!1),children:"Non"})]}),e.jsxs("div",{className:"flex gap-1",children:["Catégorie:",e.jsx("div",{onClick:()=>n==0?a(null):a(0),className:n==0?"chip-selected":"chip-unselected",children:"Veau"}),e.jsx("div",{onClick:()=>{c!=r.Mâle&&(n==1?a(null):a(1))},className:n==1?"chip-selected":c!=r.Mâle?"chip-unselected":"chip-disabled",children:"Génisse"}),e.jsx("div",{onClick:()=>{c!=r.Mâle&&(n==2?a(null):a(2))},className:n==2?"chip-selected":c!=r.Mâle?"chip-unselected":"chip-disabled",children:"Vache"}),e.jsx("div",{onClick:()=>{c!=r.Femelle&&(n==3?a(null):a(3))},className:n==3?"chip-selected":c!=r.Femelle?"chip-unselected":"chip-disabled",children:"Taureau"}),e.jsx("div",{onClick:()=>{c!=r.Femelle&&(n==4?a(null):a(4))},className:n==4?"chip-selected":c!=r.Femelle?"chip-unselected":"chip-disabled",children:"Taurillon"})]}),e.jsxs("div",{className:"flex gap-1",children:["Lot :",e.jsx("div",{className:u==0?"chip-selected":"chip-unselected",onClick:()=>u==0?h(null):h(0),children:"Lactation"}),e.jsx("div",{className:u==1?"chip-selected":"chip-unselected",onClick:()=>u==1?h(null):h(1),children:"Prépa Vêlage"}),e.jsx("div",{className:u==2?"chip-selected":"chip-unselected",onClick:()=>u==2?h(null):h(2),children:"Vêlée"}),e.jsx("div",{className:u==3?"chip-selected":"chip-unselected",onClick:()=>u==3?h(null):h(3),children:"Tarie"})]})]}),e.jsxs("div",{className:"button-secondary",children:["Afficher plus ",e.jsx("img",{src:D})]})]}),e.jsxs("div",{className:"filter-container",children:[e.jsx("div",{className:"filter-header",children:"Statut sanitaire"}),e.jsxs("div",{className:"flex flex-col p-2 text-sm gap-2",children:[e.jsxs("div",{className:"flex gap-2 col-span-2",children:["Etat de santé :",e.jsx("div",{className:o==0?"chip-selected":"chip-unselected",onClick:()=>o==0?f(null):f(0),children:"Sain"}),e.jsx("div",{className:o==1?"chip-selected":"chip-unselected",onClick:()=>o==1?f(null):f(1),children:"Boiterie"}),e.jsx("div",{className:o==2?"chip-selected":"chip-unselected",onClick:()=>o==2?f(null):f(2),children:"Ecarté"}),e.jsx("div",{className:"chip-unselected",children:"+"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:["Vaccin :",e.jsx("div",{className:p==!0?"chip-selected":"chip-unselected",onClick:()=>p==!0?E(null):E(!0),children:"A jour"}),e.jsx("div",{className:p==!1?"chip-selected":"chip-unselected",onClick:()=>p==!1?E(null):E(!1),children:"A faire"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:["Echéance :",e.jsxs("select",{className:"input",value:j,onChange:s=>B(s.target.value),children:[e.jsx("option",{value:"0",children:"A définir"}),e.jsx("option",{value:"1",children:"3 mois"}),e.jsx("option",{value:"2",children:"6 mois"}),e.jsx("option",{value:"3",children:"1 an"})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("div",{className:"flex gap-1 items-center",children:["Parage :",e.jsx("div",{className:g==!0?"chip-selected":"chip-unselected",onClick:()=>g==!0?C(null):C(!0),children:"A jour"}),e.jsx("div",{className:g==!1?"chip-selected":"chip-unselected",onClick:()=>g==!0?C(null):C(!1),children:"A faire"})]}),e.jsxs("div",{className:"flex gap-1 items-center",children:["Echéance :",e.jsxs("select",{className:"input",value:v,onChange:s=>M(s.target.value),children:[e.jsx("option",{value:"0",children:"A définir"}),e.jsx("option",{value:"1",children:"3 mois"}),e.jsx("option",{value:"2",children:"6 mois"}),e.jsx("option",{value:"3",children:"1 an"})]})]})]})]}),e.jsxs("div",{className:"button-secondary",children:["Afficher plus ",e.jsx("img",{src:D})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 self-start font-bold text-xs",children:[e.jsx("div",{className:"button-secondary-light",children:"Appliquer"}),e.jsx("div",{className:"refresh-button",onClick:T,children:e.jsx("img",{src:P})}),e.jsxs("div",{className:"col-span-2 toggle-light",children:["Recherche avancée ",e.jsx("img",{src:D})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-8",children:G.map(s=>e.jsx(R,{to:"/farm/animal/"+s.id,end:!0,children:e.jsxs("div",{className:"animal-sheet",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:["N° de boucle : ",e.jsx("span",{className:"font-normal",children:s.boucle})]}),e.jsxs("div",{className:"grid grid-cols-[2fr_3fr] gap-2",children:[e.jsxs("div",{children:["Sexe : ",e.jsx("span",{className:"font-normal",children:r[s.gender]})]}),e.jsxs("div",{children:["Age : ",e.jsxs("span",{className:"font-normal",children:[s.age," mois"]})]}),e.jsxs("div",{children:["Père : ",e.jsx("span",{className:"font-normal",children:s.fatherPentagNumber})]}),e.jsxs("div",{children:["Mère : ",e.jsx("span",{className:"font-normal",children:s.motherPentagNumber})]}),e.jsxs("div",{children:["Race : ",e.jsx("span",{className:"font-normal",children:L[s.race]})]}),s.hasOwnProperty("lot")&&e.jsxs("div",{children:["Lot : ",e.jsx("span",{className:"font-normal",children:U[s.lot]})]})]}),e.jsxs("div",{className:"self-end text-gray flex",children:["Afficher plus ",e.jsx("img",{src:Y})]})]})]})},s.id))})]})};function z({}){return[{title:"Mes animaux"},{name:"description",content:"Page pour afficher la liste des animaux"}]}const X=V(function(){return e.jsx(y,{})});export{X as default,z as meta};
